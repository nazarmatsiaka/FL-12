{"version":3,"sources":["components/Employer/Employer.js","utils/getTree.js","components/AllEmployees/AllEmployees.js","components/AllUnits/AllUnits.js","components/Warning/Warning.js","Routes.js","App.js","index.js"],"names":["Employer","empl","name","performance","last_vacation_date","salary","children","map","item","key","id","arrayToTree","arr","parent","unflattenArray","forEach","rm_id","length","push","treeByPerfomance","i","indexOf","AllEmployees","state","tree","fetch","then","data","json","setState","this","Component","AllUnits","filterArr","filter","Warning","editPerfomance","event","target","value","editSalery","middleSalery","users","reduce","sum","user","perf","console","log","className","onChange","salery","Routes","exact","path","component","to","App","url","props","location","pathname","withRouter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c22a972b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Employer = ({empl}) => {\r\n    return (<li>\r\n        <p>Name: {empl.name}</p>\r\n        <p>Performance: {empl.performance}</p>\r\n        <p>Date: {empl.last_vacation_date}</p>\r\n        <p>Salary: {empl.salary}</p>\r\n        {empl.children && <ul>\r\n            {empl.children.map(item => <Employer key={item.id} empl={item} />)}\r\n        </ul>}\r\n    </li>)\r\n};\r\n\r\nexport default Employer;\r\n","export const arrayToTree = (arr, parent = null) => {\r\n    let unflattenArray = [];\r\n    arr.forEach(item => {\r\n        if(item.rm_id === parent) {\r\n            let children = arrayToTree(arr, item.id);\r\n            if(children.length) {\r\n                item.children = children\r\n            }\r\n            unflattenArray.push(item)\r\n        }\r\n    });\r\n    return unflattenArray;\r\n}\r\n\r\nexport const treeByPerfomance = (arr) => {\r\n    var unflattenArray = [];\r\n\r\n    arr.forEach(item => {\r\n        if(arr.map(i => i.id).indexOf(item.rm_id) === -1) {\r\n            item.children = arrayToTree(arr, item.id);\r\n            unflattenArray.push(item);\r\n        }\r\n    });\r\n\r\n    return unflattenArray;\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport Employer from \"../Employer/Employer\";\r\nimport { arrayToTree } from '../../utils/getTree';\r\n\r\nclass AllEmployees extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {tree: []}\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://roman4ak.github.io/fe-oop-lab/mocks/epms.json')\r\n            .then(data => data.json())\r\n            .then(data => this.setState({tree: arrayToTree(data)}));\r\n    }\r\n\r\n    render() {\r\n        return <ul>\r\n            {this.state.tree.map(item =>\r\n                    <Employer key={item.id} empl={item}/>\r\n                )}\r\n        </ul>\r\n    }\r\n}\r\n\r\nexport default AllEmployees;\r\n","import React, { Component } from 'react';\r\nimport {treeByPerfomance} from \"../../utils/getTree\";\r\nimport Employer from \"../Employer/Employer\";\r\n\r\nclass AllUnits extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {tree: []}\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://roman4ak.github.io/fe-oop-lab/mocks/epms.json')\r\n            .then(data => data.json())\r\n            .then(data => this.setState({tree: treeByPerfomance(this.filterArr(data))}));\r\n    }\r\n\r\n    filterArr(arr) {\r\n        return arr.filter(item => item.performance === 'average');\r\n    }\r\n\r\n    render() {\r\n        return (<ul>\r\n            {this.state.tree.map(item =>\r\n                <Employer key={item.id} empl={item}/>\r\n            )}\r\n        </ul>)\r\n    }\r\n}\r\n\r\nexport default AllUnits;\r\n// this.setState({tree: arrayToTree(this.filterArr(data))})\r\n","import React, { Component, Fragment } from 'react';\r\nimport Employer from \"../Employer/Employer\";\r\n\r\nclass Warning extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {users: [], performance: 'none', salary: 'none'}\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://roman4ak.github.io/fe-oop-lab/mocks/epms.json')\r\n            .then(data => data.json())\r\n            .then(data => this.setState({users: data}));\r\n    }\r\n\r\n    editPerfomance = event => {\r\n        this.setState({performance: event.target.value});\r\n    };\r\n    editSalery = event => {\r\n        this.setState({salary: event.target.value});\r\n    };\r\n\r\n    middleSalery = () => {\r\n        let summ = this.state.users.reduce((sum, user) => sum + user.salary, 0);\r\n\r\n        return summ/this.state.users.length;\r\n    }\r\n\r\n    filterArr = (perf, salary) => {\r\n        let arr = this.state.users;\r\n\r\n        if(perf !== 'none') {\r\n            arr = arr.filter(user => user.performance === perf);\r\n        }\r\n\r\n        if(salary !== 'none') {\r\n            let middleSalery = this.middleSalery();\r\n            console.log(middleSalery);\r\n\r\n            if(salary === 'low'){\r\n                arr = arr.filter(user => user.salary < middleSalery);\r\n            } else if(salary === 'top') {\r\n                arr = arr.filter(user => user.salary > middleSalery);\r\n            }\r\n        }\r\n\r\n        return arr;\r\n    }\r\n\r\n    render() {\r\n        return (<Fragment>\r\n            <div className=\"inp_blick\">\r\n                <div>\r\n                    Perfomance:\r\n                    <select name=\"\" onChange={this.editPerfomance} value={this.state.performance}>\r\n                        <option value=\"none\">--------</option>\r\n                        <option value=\"low\">low</option>\r\n                        <option value=\"average\">average</option>\r\n                        <option value=\"top\">top</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    Salery:\r\n                    <select name=\"\" onChange={this.editSalery} value={this.state.salery}>\r\n                        <option value=\"none\">--------</option>\r\n                        <option value=\"top\">more than average</option>\r\n                        <option value=\"low\">less than average</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <ul>\r\n                {this.filterArr(this.state.performance, this.state.salary).map(user => <Employer key={user.id} empl={user} />)}\r\n            </ul>\r\n        </Fragment>)\r\n    }\r\n}\r\n\r\nexport default Warning;\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router';\r\n\r\nimport AllEmployees from \"./components/AllEmployees/AllEmployees\";\r\nimport AllUnits from \"./components/AllUnits/AllUnits\";\r\nimport Warning from \"./components/Warning/Warning\";\r\n\r\nconst Routes = () => (\r\n    <Switch>\r\n        <Route exact path=\"/allEmp\" component={ AllEmployees } />\r\n        <Route exact path=\"/allUnits\" component={ AllUnits } />\r\n        <Route exact path=\"/warning\" component={ Warning } />\r\n\r\n        <Redirect to=\"/allEmp\" />\r\n    </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withRouter } from \"react-router\";\r\nimport './App.css';\r\n\r\nimport Routs from './Routes';\r\n\r\nclass App extends Component{\r\n\r\n    render() {\r\n      let url = this.props.location.pathname;\r\n      return (\r\n          <div className=\"wrapper\">\r\n              <header>\r\n                  <Link className={url === '/allEmp'? \"header_link active\": \"header_link\"} to=\"/allEmp\">All Employees</Link>\r\n                  <Link className={url === '/allUnits'? \"header_link active\": \"header_link\"} to=\"/allUnits\">All Units</Link>\r\n                  <Link className={url === '/warning'? \"header_link active\": \"header_link\"} to=\"/warning\">Warning Employees</Link>\r\n              </header>\r\n              <main>\r\n                  <Routs />\r\n              </main>\r\n          </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<BrowserRouter>\r\n        <App />\r\n</BrowserRouter>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}